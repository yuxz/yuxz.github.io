(self.webpackChunktmc_free_react_admin_template=self.webpackChunktmc_free_react_admin_template||[]).push([[3432],{4973:function(e,t,n){"use strict";n(72791);t.Z=n.p+"static/media/social-facebook.5e1cb4b86ac3f872dadcbde3ed31cd4b.svg"},14387:function(e,t,n){"use strict";n(72791);t.Z=n.p+"static/media/social-google.9a7800d06783d80a1c12249a8ca58e9d.svg"},18300:function(e,t,n){"use strict";n(72791);t.Z=n.p+"static/media/social-linkedin.9de6ddda1cea637a841ef3b7885ed49a.svg"},39499:function(e,t,n){"use strict";n(72791);t.Z=n.p+"static/media/social-twitter.fe06d572bd13680e66f4d31fc7cf1832.svg"},73776:function(e,t,n){"use strict";var r=n(29439),i=n(72791),a=n(5561),o=n(45871),s=n(80184),l=(0,i.forwardRef)((function(e,t){var n,i,l,c,d=e.children,u=e.type,h=e.direction,m=e.offset,x=e.scale;switch(h){case"up":case"left":l=m,c=0;break;default:l=0,c=m}var p=(0,a.n)(l,c),f=(0,r.Z)(p,2),Z=f[0],g=f[1],j=(0,a.n)(l,c),v=(0,r.Z)(j,2),b=v[0],w=v[1];switch(u){case"rotate":return(0,s.jsx)(o.E.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:d});case"slide":return"up"===h||"down"===h?(0,s.jsx)(o.E.div,{ref:t,animate:{y:void 0!==b?b:""},onHoverEnd:function(){return w()},onHoverStart:function(){return w()},children:d}):(0,s.jsx)(o.E.div,{ref:t,animate:{x:void 0!==Z?Z:""},onHoverEnd:function(){return g()},onHoverStart:function(){return g()},children:d});default:return"number"===typeof x&&(x={hover:x,tap:x}),(0,s.jsx)(o.E.div,{ref:t,whileHover:{scale:null===(n=x)||void 0===n?void 0:n.hover},whileTap:{scale:null===(i=x)||void 0===i?void 0:i.tap},children:d})}}));l.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},t.Z=l},40845:function(e,t,n){"use strict";var r=n(53767),i=n(20890),a=n(50533),o=n(80184);t.Z=function(){return(0,o.jsx)(r.Z,{direction:"row",justifyContent:"space-between",children:(0,o.jsx)(i.Z,{variant:"subtitle2",component:a.Z,href:"https://themarscloud.com",target:"_blank",underline:"hover",children:"\xa9 themarscloud.com"})})}},72811:function(e,t,n){"use strict";var r=n(1413),i=n(45987),a=n(98530),o=n(5789),s=n(80184),l=["children"];t.Z=function(e){var t=e.children,n=(0,i.Z)(e,l);return(0,s.jsx)(o.Z,(0,r.Z)((0,r.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}}},n),{},{children:(0,s.jsx)(a.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:t})}))}},84467:function(e,t,n){"use strict";var r=(0,n(20033).ZP)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,minHeight:"100vh"}}));t.Z=r},56328:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var r=n(11087),i=n(13967),a=n(61889),o=n(20890),s=n(84467),l=n(72811),c=n(1413),d=n(74165),u=n(15861),h=n(29439),m=n(36459),x=n(72791),p=n(57689),f=n(53767),Z=n(13400),g=n(94721),j=n(19658),v=n(68096),b=n(30829),w=n(28029),k=n(47071),y=n(63466),S=n(85523),C=n(94454),P=n(98530),E=n(24518),I=n(81724),_=n(55705),H=n(9765),U=n(73776),A=n(3746),D=n(20165),T=n(14387),B=n(4973),F=n(39499),q=n(18300),z=n(37004),W=n.n(z),R=n(763),L=n.n(R),M=n(15671),N=n(43144),O=function(){function e(){(0,M.Z)(this,e)}return(0,N.Z)(e,null,[{key:"authenticateUser",value:function(e){localStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==localStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){localStorage.removeItem("token")}},{key:"getToken",value:function(){return JSON.parse(localStorage.getItem("auth")).token}},{key:"getTokenExpired",value:function(){var e=localStorage.getItem("expired");return!!L().isNull(e)||Date.now()-e>0}},{key:"setTokenExpired",value:function(e){localStorage.setItem("expired",e)}}]),e}(),V=function(e,t){return function(n,r){n?(r&&401===r.status&&O.deauthenticateUser(),t({error:n})):(L().isUndefined(r.header.token)||O.authenticateUser(r.header.token),r.body?e(r.body):e(r.text))}},G=n(80184),J=function(e){var t=Object.assign({},((0,m.Z)(e),e)),n=(0,i.Z)(),r=(0,p.s0)(),a=(0,x.useState)(!1),s=(0,h.Z)(a,2),l=s[0],z=s[1],R=(0,x.useState)(!0),L=(0,h.Z)(R,2),M=L[0],N=L[1],J=(0,H.aC)().setAuth,K=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("Login");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=(0,x.useState)(!1),X=(0,h.Z)(Q,2),Y=X[0],$=X[1],ee=I.Ry().shape({email:I.Z_().email("Must be a valid email").max(255).required("Email is required"),password:I.Z_().max(255).required("Password is required"),submit:null}),te=(0,_.TA)({initialValues:{email:"yxz20180810@gmail.com",password:"123456"},validationSchema:ee,onSubmit:function(e){(function(e,t){return new Promise((function(n,r){W().post(e).send(t).set("Accept","application/json").set("Authorization","bearer ".concat(O.getToken())).end(V(n,r))}))})("http://localhost:8080/auth/login",{email:e.email,password:e.password}).then((function(e){console.log("resp:",e),e.success?(J({token:e.token,expired:e.expired}),r("/")):z(!0)})).catch((function(e){console.error("error:",e)}))}}),ne=te.errors,re=te.touched,ie=te.handleBlur,ae=te.handleChange,oe=te.handleSubmit,se=te.isSubmitting,le=te.values;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(f.Z,{direction:"row",justifyContent:"center",spacing:2,mb:3,children:[(0,G.jsx)(Z.Z,{color:"primary","aria-label":"",component:"label",onClick:K,children:(0,G.jsx)("img",{src:T.Z,alt:"google",width:36,height:36})}),(0,G.jsx)(Z.Z,{color:"primary","aria-label":"",component:"label",onClick:K,children:(0,G.jsx)("img",{src:F.Z,alt:"Twitter",width:36,height:36})}),(0,G.jsx)(Z.Z,{color:"primary","aria-label":"",component:"label",onClick:K,children:(0,G.jsx)("img",{src:B.Z,alt:"Facebook",width:36,height:36})}),(0,G.jsx)(Z.Z,{color:"primary","aria-label":"",component:"label",onClick:K,children:(0,G.jsx)("img",{src:q.Z,alt:"LinkedIn",width:36,height:36})})]}),(0,G.jsx)(g.Z,{sx:{my:3},children:"or"}),(0,G.jsx)(_.Hy,{value:te,children:(0,G.jsxs)("form",(0,c.Z)((0,c.Z)({noValidate:!0,onSubmit:oe},t),{},{children:[l&&(0,G.jsx)(j.Z,{severity:"error",children:l}),(0,G.jsxs)(f.Z,{spacing:2,children:[(0,G.jsxs)(v.Z,{fullWidth:!0,error:Boolean(re.email&&ne.email),sx:(0,c.Z)({},n.typography.customInput),children:[(0,G.jsx)(b.Z,{htmlFor:"outlined-adornment-email-login",children:"Email Address / Username"}),(0,G.jsx)(w.Z,{id:"outlined-adornment-email-login",type:"email",value:le.email,name:"email",onBlur:ie,onChange:ae,label:"Email Address / Username",inputProps:{}}),re.email&&ne.email&&(0,G.jsx)(k.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:ne.email})]}),(0,G.jsxs)(v.Z,{fullWidth:!0,error:Boolean(re.password&&ne.password),sx:(0,c.Z)({},n.typography.customInput),children:[(0,G.jsx)(b.Z,{htmlFor:"outlined-adornment-password-login",children:"Password"}),(0,G.jsx)(w.Z,{id:"outlined-adornment-password-login",type:Y?"text":"password",value:le.password,name:"password",onBlur:ie,onChange:ae,endAdornment:(0,G.jsx)(y.Z,{position:"end",children:(0,G.jsx)(Z.Z,{"aria-label":"toggle password visibility",onClick:function(){$(!Y)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"large",children:Y?(0,G.jsx)(A.Z,{}):(0,G.jsx)(D.Z,{})})}),label:"Password",inputProps:{}}),re.password&&ne.password&&(0,G.jsx)(k.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:ne.password})]}),(0,G.jsxs)(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[(0,G.jsx)(S.Z,{control:(0,G.jsx)(C.Z,{checked:M,onChange:function(e){return N(e.target.checked)},name:"checked",color:"primary"}),label:"Remember me"}),(0,G.jsx)(o.Z,{variant:"subtitle1",color:"text.default",sx:{textDecoration:"none",cursor:"pointer"},children:"Forgot Password?"})]}),ne.submit&&(0,G.jsx)(P.Z,{sx:{mt:3},children:(0,G.jsx)(k.Z,{error:!0,children:ne.submit})}),(0,G.jsx)(P.Z,{sx:{mt:2},children:(0,G.jsx)(U.Z,{children:(0,G.jsx)(E.Z,{disableElevation:!0,disabled:se,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign in"})})})]})]}))})]})},K=n(40845),Q=function(){var e=(0,i.Z)();return(0,G.jsx)(s.Z,{children:(0,G.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,G.jsx)(a.ZP,{item:!0,xs:12,children:(0,G.jsx)(a.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,G.jsx)(a.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,G.jsx)(l.Z,{children:(0,G.jsxs)(a.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,G.jsx)(a.ZP,{item:!0,sx:{mb:3},children:(0,G.jsx)(o.Z,{variant:"h2",children:"Sign in"})}),(0,G.jsx)(a.ZP,{item:!0,xs:12,children:(0,G.jsx)(J,{})}),(0,G.jsx)(a.ZP,{item:!0,xs:12,children:(0,G.jsxs)(o.Z,{to:"/pages/register/register3",variant:"subtitle1",sx:{textDecoration:"none",color:"dark"===e.palette.mode?"common.white":"common.black"},children:["Don't have an account? \xa0",(0,G.jsx)(o.Z,{component:r.rU,to:"/pages/register/register3",variant:"subtitle1",sx:{textDecoration:"none",color:"dark"===e.palette.mode?"primary.light":"primary.dark"},children:"Sign up"})]})})]})})})})}),(0,G.jsx)(a.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,G.jsx)(K.Z,{})})]})})}},24654:function(){},63695:function(){}}]);
//# sourceMappingURL=3432.aa70707e.chunk.js.map
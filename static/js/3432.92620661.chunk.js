(self.webpackChunktmc_free_react_admin_template=self.webpackChunktmc_free_react_admin_template||[]).push([[3432],{4973:function(e,t,n){"use strict";n(72791);t.Z=n.p+"static/media/social-facebook.5e1cb4b86ac3f872dadcbde3ed31cd4b.svg"},14387:function(e,t,n){"use strict";n(72791);t.Z=n.p+"static/media/social-google.9a7800d06783d80a1c12249a8ca58e9d.svg"},18300:function(e,t,n){"use strict";n(72791);t.Z=n.p+"static/media/social-linkedin.9de6ddda1cea637a841ef3b7885ed49a.svg"},39499:function(e,t,n){"use strict";n(72791);t.Z=n.p+"static/media/social-twitter.fe06d572bd13680e66f4d31fc7cf1832.svg"},73776:function(e,t,n){"use strict";var r=n(29439),i=n(72791),a=n(5561),o=n(45871),s=n(80184),c=(0,i.forwardRef)((function(e,t){var n,i,c,l,d=e.children,u=e.type,h=e.direction,m=e.offset,x=e.scale;switch(h){case"up":case"left":c=m,l=0;break;default:c=0,l=m}var p=(0,a.n)(c,l),f=(0,r.Z)(p,2),Z=f[0],g=f[1],j=(0,a.n)(c,l),v=(0,r.Z)(j,2),b=v[0],w=v[1];switch(u){case"rotate":return(0,s.jsx)(o.E.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:d});case"slide":return"up"===h||"down"===h?(0,s.jsx)(o.E.div,{ref:t,animate:{y:void 0!==b?b:""},onHoverEnd:function(){return w()},onHoverStart:function(){return w()},children:d}):(0,s.jsx)(o.E.div,{ref:t,animate:{x:void 0!==Z?Z:""},onHoverEnd:function(){return g()},onHoverStart:function(){return g()},children:d});default:return"number"===typeof x&&(x={hover:x,tap:x}),(0,s.jsx)(o.E.div,{ref:t,whileHover:{scale:null===(n=x)||void 0===n?void 0:n.hover},whileTap:{scale:null===(i=x)||void 0===i?void 0:i.tap},children:d})}}));c.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},t.Z=c},40845:function(e,t,n){"use strict";var r=n(53767),i=n(20890),a=n(50533),o=n(80184);t.Z=function(){return(0,o.jsx)(r.Z,{direction:"row",justifyContent:"space-between",children:(0,o.jsx)(i.Z,{variant:"subtitle2",component:a.Z,href:"https://themarscloud.com",target:"_blank",underline:"hover",children:"\xa9 themarscloud.com"})})}},35878:function(e,t,n){"use strict";var r=n(72791);t.Z=function(){var e=(0,r.useRef)(!0);return(0,r.useEffect)((function(){return function(){e.current=!1}}),[]),e}},72811:function(e,t,n){"use strict";var r=n(1413),i=n(45987),a=n(98530),o=n(5789),s=n(80184),c=["children"];t.Z=function(e){var t=e.children,n=(0,i.Z)(e,c);return(0,s.jsx)(o.Z,(0,r.Z)((0,r.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}}},n),{},{children:(0,s.jsx)(a.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:t})}))}},84467:function(e,t,n){"use strict";var r=(0,n(20033).ZP)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,minHeight:"100vh"}}));t.Z=r},56328:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return K}});var r=n(11087),i=n(13967),a=n(61889),o=n(20890),s=n(84467),c=n(72811),l=n(1413),d=n(74165),u=n(15861),h=n(29439),m=n(36459),x=n(72791),p=n(57689),f=n(53767),Z=n(13400),g=n(94721),j=n(68096),v=n(30829),b=n(28029),w=n(47071),k=n(63466),y=n(85523),S=n(94454),C=n(98530),P=n(24518),E=n(81724),I=n(55705),_=(n(35878),n(9765)),H=n(73776),U=n(3746),A=n(20165),D=n(14387),T=n(4973),B=n(39499),F=n(18300),q=n(37004),z=n.n(q),R=n(763),W=n.n(R),L=n(15671),M=n(43144),N=function(){function e(){(0,L.Z)(this,e)}return(0,M.Z)(e,null,[{key:"authenticateUser",value:function(e){localStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==localStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){localStorage.removeItem("token")}},{key:"getToken",value:function(){return JSON.parse(localStorage.getItem("auth")).token}},{key:"getTokenExpired",value:function(){var e=localStorage.getItem("expired");return!!W().isNull(e)||Date.now()-e>0}},{key:"setTokenExpired",value:function(e){localStorage.setItem("expired",e)}}]),e}(),O=function(e,t){return function(n,r){n?(r&&401===r.status&&N.deauthenticateUser(),t({error:n})):(W().isUndefined(r.header.token)||N.authenticateUser(r.header.token),r.body?e(r.body):e(r.text))}},V=n(80184),G=function(e){var t=Object.assign({},((0,m.Z)(e),e)),n=(0,i.Z)(),r=(0,p.s0)(),a=(0,x.useState)(!1),s=(0,h.Z)(a,2),c=(s[0],s[1]),q=(0,x.useState)(!0),R=(0,h.Z)(q,2),W=R[0],L=R[1],M=(0,_.aC)().setAuth,G=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("Login");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=(0,x.useState)(!1),K=(0,h.Z)(J,2),Q=K[0],X=K[1],Y=E.Ry().shape({email:E.Z_().email("Must be a valid email").max(255).required("Email is required"),password:E.Z_().max(255).required("Password is required"),submit:null}),$=(0,I.TA)({initialValues:{email:"yxz20180810@gmail.com",password:"123456"},validationSchema:Y,onSubmit:function(e){(function(e,t){return new Promise((function(n,r){z().post(e).send(t).set("Accept","application/json").set("Authorization","bearer ".concat(N.getToken())).end(O(n,r))}))})("http://localhost:8080/auth/login",{email:e.email,password:e.password}).then((function(e){console.log("resp:",e),e.success?(M({token:e.token,expired:e.expired}),r("/")):c(!0)})).catch((function(e){console.error("error:",e)}))}}),ee=$.errors,te=$.touched,ne=($.getFieldProps,$.handleBlur),re=$.handleChange,ie=$.handleSubmit,ae=$.isSubmitting,oe=$.values;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(f.Z,{direction:"row",justifyContent:"center",spacing:2,mb:3,children:[(0,V.jsx)(Z.Z,{color:"primary","aria-label":"",component:"label",onClick:G,children:(0,V.jsx)("img",{src:D.Z,alt:"google",width:36,height:36})}),(0,V.jsx)(Z.Z,{color:"primary","aria-label":"",component:"label",onClick:G,children:(0,V.jsx)("img",{src:B.Z,alt:"Twitter",width:36,height:36})}),(0,V.jsx)(Z.Z,{color:"primary","aria-label":"",component:"label",onClick:G,children:(0,V.jsx)("img",{src:T.Z,alt:"Facebook",width:36,height:36})}),(0,V.jsx)(Z.Z,{color:"primary","aria-label":"",component:"label",onClick:G,children:(0,V.jsx)("img",{src:F.Z,alt:"LinkedIn",width:36,height:36})})]}),(0,V.jsx)(g.Z,{sx:{my:3},children:"or"}),(0,V.jsx)(I.Hy,{value:$,children:(0,V.jsx)("form",(0,l.Z)((0,l.Z)({noValidate:!0,onSubmit:ie},t),{},{children:(0,V.jsxs)(f.Z,{spacing:2,children:[(0,V.jsxs)(j.Z,{fullWidth:!0,error:Boolean(te.email&&ee.email),sx:(0,l.Z)({},n.typography.customInput),children:[(0,V.jsx)(v.Z,{htmlFor:"outlined-adornment-email-login",children:"Email Address / Username"}),(0,V.jsx)(b.Z,{id:"outlined-adornment-email-login",type:"email",value:oe.email,name:"email",onBlur:ne,onChange:re,label:"Email Address / Username",inputProps:{}}),te.email&&ee.email&&(0,V.jsx)(w.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:ee.email})]}),(0,V.jsxs)(j.Z,{fullWidth:!0,error:Boolean(te.password&&ee.password),sx:(0,l.Z)({},n.typography.customInput),children:[(0,V.jsx)(v.Z,{htmlFor:"outlined-adornment-password-login",children:"Password"}),(0,V.jsx)(b.Z,{id:"outlined-adornment-password-login",type:Q?"text":"password",value:oe.password,name:"password",onBlur:ne,onChange:re,endAdornment:(0,V.jsx)(k.Z,{position:"end",children:(0,V.jsx)(Z.Z,{"aria-label":"toggle password visibility",onClick:function(){X(!Q)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"large",children:Q?(0,V.jsx)(U.Z,{}):(0,V.jsx)(A.Z,{})})}),label:"Password",inputProps:{}}),te.password&&ee.password&&(0,V.jsx)(w.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:ee.password})]}),(0,V.jsxs)(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[(0,V.jsx)(y.Z,{control:(0,V.jsx)(S.Z,{checked:W,onChange:function(e){return L(e.target.checked)},name:"checked",color:"primary"}),label:"Remember me"}),(0,V.jsx)(o.Z,{variant:"subtitle1",color:"text.default",sx:{textDecoration:"none",cursor:"pointer"},children:"Forgot Password?"})]}),ee.submit&&(0,V.jsx)(C.Z,{sx:{mt:3},children:(0,V.jsx)(w.Z,{error:!0,children:ee.submit})}),(0,V.jsx)(C.Z,{sx:{mt:2},children:(0,V.jsx)(H.Z,{children:(0,V.jsx)(P.Z,{disableElevation:!0,disabled:ae,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign in"})})})]})}))})]})},J=n(40845),K=function(){var e=(0,i.Z)();return(0,V.jsx)(s.Z,{children:(0,V.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(a.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,V.jsx)(a.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,V.jsx)(c.Z,{children:(0,V.jsxs)(a.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,V.jsx)(a.ZP,{item:!0,sx:{mb:3},children:(0,V.jsx)(o.Z,{variant:"h2",children:"Sign in"})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(G,{})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsxs)(o.Z,{to:"/pages/register/register3",variant:"subtitle1",sx:{textDecoration:"none",color:"dark"===e.palette.mode?"common.white":"common.black"},children:["Don't have an account? \xa0",(0,V.jsx)(o.Z,{component:r.rU,to:"/pages/register/register3",variant:"subtitle1",sx:{textDecoration:"none",color:"dark"===e.palette.mode?"primary.light":"primary.dark"},children:"Sign up"})]})})]})})})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,V.jsx)(J.Z,{})})]})})}},24654:function(){},63695:function(){}}]);
//# sourceMappingURL=3432.92620661.chunk.js.map